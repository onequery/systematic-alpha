# Sensitive credentials only.
# Strategy/runtime hyperparameters are managed in WSL launcher scripts
# (`scripts/run_daily_wsl.sh`, `scripts/run_agent_lab_wsl.sh`)
# and passed as CLI args.

# KIS credentials (required)
KIS_APP_KEY=your_app_key
KIS_APP_SECRET=your_app_secret
KIS_ACC_NO=12345678-01

# Optional sensitive identifier
KIS_USER_ID=

# Telegram notification secrets (optional)
# If TELEGRAM_ENABLED is empty, notification auto-enables when both token/chat id are set.
# TELEGRAM_ENABLED=1
# TELEGRAM_BOT_TOKEN=123456789:ABCDEFGHIJKLMNOPQRSTUVWXYZ123456789
# TELEGRAM_CHAT_ID=123456789
# TELEGRAM_THREAD_ID=
# TELEGRAM_DISABLE_NOTIFICATION=0
# Optional: set to 1 only if you must use system proxy variables for Telegram API calls.
# AGENT_LAB_TELEGRAM_USE_ENV_PROXY=0

# Network env guard for KIS/Telegram/OpenAI calls.
# auto: remove only known broken local proxy settings (e.g., 127.0.0.1:9)
# off: keep proxy env as-is
# clear_all: remove all proxy env keys
# SYSTEMATIC_ALPHA_PROXY_MODE=auto

# Agent Lab (OpenAI / multi-agent research)
# Keep API key in .env only.
# AGENT_LAB_ENABLED=1
# OPENAI_API_KEY=sk-...
# OPENAI_MODEL=gpt-4o-mini
# OPENAI_MAX_DAILY_COST=5.0
# Optional:
# AGENT_LAB_EXECUTION_MODE=mojito_mock      # mojito_mock | simulated
# AGENT_LAB_ORDER_ENABLED_MARKETS=KR,US     # comma list of markets allowed to place orders (ex: KR to pause US trading)
# AGENT_LAB_AUTO_APPROVE=1                  # 1: no manual approval, auto execute paper orders
# AGENT_LAB_ENFORCE_MARKET_HOURS=1          # 1: block propose/execute outside regular KR/US cash session
# AGENT_LAB_US_EXCHANGE=NASD
# AGENT_LAB_USE_LIVE_FX=1                   # 1: try live USD/KRW API, 0: skip live fetch
# AGENT_LAB_FX_TIMEOUT_SECONDS=8            # timeout per live FX provider call
# AGENT_LAB_USDKRW_DEFAULT=1300
# AGENT_LAB_HEARTBEAT_MINUTES=30            # periodic daemon heartbeat telegram interval
# AGENT_LAB_DAEMON_POLL_SECONDS=60          # auto-strategy daemon main loop tick (run_once check interval)
# AGENT_LAB_WEEKLY_APPLY_MODE=immediate     # immediate(default): apply weekly council params now, gated: legacy score-gated promote
# AGENT_LAB_MAX_FREEDOM=1                   # 1: relax runtime constraints for aggressive intraday autonomy
# AGENT_LAB_ENABLE_ROTATION_SELL=1          # required when MAX_FREEDOM=1 to allow replacement/rotation sells
# AGENT_LAB_MAX_FREEDOM_INTERVAL_SEC=30     # monitor/propose loop interval while market is open
# AGENT_LAB_AFTERHOURS_MONITOR_INTERVAL_SEC=1800  # after-hours session monitor cycle interval (sec)
# AGENT_LAB_MAX_FREEDOM_PICKS=20            # fallback picks count when freedom mode ignores strict caps
# AGENT_LAB_INTRADAY_MONITOR_PROPOSE=1      # 1: monitor cycle re-runs propose-orders during open
# AGENT_LAB_NOTIFY_SESSION_MONITOR_AFTERHOURS=0  # 0: suppress after-hours session_monitor Telegram alerts
# AGENT_LAB_AUTO_WEEKLY_COUNCIL=0           # 0: daemon does not auto-run weekly council (weekly cron handles Sunday report)
# AGENT_LAB_INTRADAY_SIGNAL_REFRESH=1       # 1: monitor cycle re-runs market scanner(main.py) before propose
# AGENT_LAB_INTRADAY_REQUIRE_REFRESH_SUCCESS=1 # 1: block propose/execute when this cycle refresh failed
# AGENT_LAB_INTRADAY_SIGNAL_MAX_AGE_SEC=900 # max allowed age of latest signal before propose (sec)
# AGENT_LAB_INTRADAY_DEFER_OVERNIGHT_REPORT=1 # 1: skip overnight-report update/append during intraday refresh run
# AGENT_LAB_INTRADAY_COLLECT_SECONDS=45     # realtime collection seconds for each monitor refresh run
# AGENT_LAB_INTRADAY_MAX_SYMBOLS_SCAN=200   # scan cap per refresh run (lower = faster)
# AGENT_LAB_INTRADAY_REST_SLEEP=0.08        # delay between REST calls during refresh scanner
# AGENT_LAB_INTRADAY_PRE_CANDIDATES=120
# AGENT_LAB_INTRADAY_FINAL_PICKS=20
# AGENT_LAB_INTRADAY_REFRESH_TIMEOUT_BASE_GRACE_SEC=240 # base grace added to refresh timeout
# AGENT_LAB_INTRADAY_REFRESH_TIMEOUT_PER_SYMBOL_SEC=0.6 # timeout increment per scanned symbol
# AGENT_LAB_INTRADAY_REFRESH_TIMEOUT_PER_PICK_SEC=2.0   # timeout increment per final pick
# AGENT_LAB_INTRADAY_REFRESH_TIMEOUT_MIN_SEC=240        # lower bound for refresh timeout
# AGENT_LAB_INTRADAY_REFRESH_TIMEOUT_MAX_SEC=540        # upper bound for refresh timeout
# AGENT_LAB_INTRADAY_ALLOW_LOW_COVERAGE=1   # 1: keep generating signal even on low coverage
# AGENT_LAB_PREFETCH_KR_UNIVERSE_SIZE=180   # KR prefetch objective pool cap (liquidity-ranked)
# AGENT_LAB_PREFETCH_KR_MAX_SYMBOLS_SCAN=240 # KR prefetch scan cap before open (controls API load)
# AGENT_LAB_PREFETCH_KR_SCAN_HEADROOM=40    # extra scan headroom over intraday max scan during prefetch
# AGENT_LAB_PREFETCH_US_MIN_COUNT=450       # min expected S&P500 symbol count for US prefetch sanity check
# AGENT_LAB_PREFETCH_TIMEOUT_SEC=240        # timeout for daemon-side prefetch fallback
# AGENT_LAB_PREFETCH_RETRY_COOLDOWN_SEC=900 # cooldown before retrying failed daemon prefetch
# AGENT_LAB_REFRESH_TIMEOUT_ALERT_COOLDOWN_MINUTES=30 # timeout warning telegram cooldown per market/session
# AGENT_LAB_PRICE_API_ALERT_COOLDOWN_MINUTES=30 # price API unavailable warning cooldown per market/session
# AGENT_LAB_STAGE1_NO_PRICE_FAILFAST=1       # 1: skip fallback and fail fast when no_price_snapshot surges
# AGENT_LAB_STAGE1_NO_PRICE_FAILFAST_MIN_SCANNED=40 # minimum scanned rows before burst detection
# AGENT_LAB_STAGE1_NO_PRICE_FAILFAST_RATIO=0.8 # no_price_snapshot ratio threshold for fail-fast
# AGENT_LAB_INTRADAY_UNCAPPED_WHEN_STABLE=0 # 1: allow uncapped scan only after stable refresh history
# AGENT_LAB_INTRADAY_UNCAPPED_MIN_HISTORY=6 # minimum recent successful history window for uncapped scan
# AGENT_LAB_FORCE_REFRESH_IDENTITY=1         # rewrite agent identity.md on sanitize/init to remove legacy constraint text
# AGENT_LAB_EXECUTION_MODEL=unified_shadow    # unified_shadow: single real portfolio execution + per-agent shadow intents
# AGENT_LAB_SYNC_STRICT=1                     # 1: enforce server-account reconcile before order execution
# AGENT_LAB_SYNC_MAX_STALENESS_SEC=30         # max acceptable account snapshot age (seconds)
# AGENT_LAB_SYNC_MISMATCH_BLOCK=1             # 1: block order execution when server/local mismatch is detected
# AGENT_LAB_SYNC_ALERT_CONSECUTIVE=2          # send sync_mismatch Action required only after N consecutive blocked mismatches
# AGENT_LAB_SYNC_ALERT_COOLDOWN_MINUTES=10    # minimum minutes between identical sync_mismatch alerts
# AGENT_LAB_SYNC_PRECHECK_RETRIES=2           # retries for strict sync gate before skipping propose/execute
# AGENT_LAB_SYNC_PRECHECK_RETRY_DELAY_SEC=1.0 # delay between strict sync precheck retries
# AGENT_LAB_SYNC_FAIL_OPEN_ON_TRANSIENT=1     # allow one-cycle soft bypass on transient sync failure with recent strict success
# AGENT_LAB_SYNC_FAIL_OPEN_GRACE_SEC=20       # recent strict-success window for transient fail-open
# AGENT_LAB_POST_EXEC_SYNC_RETRIES=2          # post-execution sync retry count before raising mismatch alert
# AGENT_LAB_POST_EXEC_SYNC_RETRY_DELAY_SEC=1.5 # delay between post-execution sync retries
# AGENT_LAB_BROKER_RATE_LIMIT_RETRIES=2       # retries for transient broker rate-limit (EGW00201)
# AGENT_LAB_BROKER_RATE_LIMIT_BACKOFF_SEC=1.2 # initial retry backoff seconds
# AGENT_LAB_BROKER_RATE_LIMIT_BACKOFF_MULT=1.7 # exponential multiplier per retry
# AGENT_LAB_BROKER_RATE_LIMIT_BACKOFF_MAX_SEC=8.0 # max retry backoff cap
# AGENT_LAB_BROKER_TRANSIENT_RETRIES=2        # retries for transient transport/parsing failures (DNS/reset/tr_cont)
# AGENT_LAB_BROKER_TRANSIENT_BACKOFF_SEC=0.8  # initial transient retry backoff seconds
# AGENT_LAB_BROKER_TRANSIENT_BACKOFF_MULT=1.8 # transient retry exponential multiplier
# AGENT_LAB_BROKER_TRANSIENT_BACKOFF_MAX_SEC=6.0 # max transient retry backoff cap
# AGENT_LAB_BROKER_BALANCE_CALL_SPACING_SEC=0.25 # small spacing between KR/US balance calls
# AGENT_LAB_ROTATION_SELL_ON_MISSING_RANK=1   # force rotation sell when held symbol is outside current ranked universe
# AGENT_LAB_ROTATION_FORCE_SELL_STREAK=3      # force rotation sell after N consecutive cycles outside target set
# AGENT_LAB_AGG_MIN_VOTE_RATIO_SELL=0.33      # consensus threshold for SELL orders (BUY uses AGENT_LAB_AGG_MIN_VOTE_RATIO)
# AGENT_LAB_EVENT_BATCH_ENABLED=1             # 1: batch non-critical events and send summary
# AGENT_LAB_EVENT_BATCH_MINUTES=30            # batch summary interval for non-critical events
# AGENT_LAB_EVENT_BATCH_MAX_ITEMS=30          # max items per summary batch
# AGENT_LAB_SHADOW_SCORE_WINDOW_DAYS=20       # rolling window for shadow performance weighting
# AGENT_LAB_SHADOW_RETENTION_DAYS=90          # retention target for shadow intents/scores
# AGENT_LAB_RUNTIME_RETENTION_DAYS=30         # retention target for runtime events/log-like rows
# AGENT_LAB_NOTIFY_EVENTS=trade_executed,preopen_plan,session_close_report,weekly_council,sync_mismatch,refresh_timeout,daemon_error,llm_limit_alert,broker_api_error
#  - comma separated push events for TelegramNotifier
#  - use "*" to allow all events
# Cross-market KR/US split is controlled per-agent strategy params (`/setparam`):
#  - market_split_kr, market_min_weight, market_max_weight
#  - market_tilt_scale, market_signal_lookback_days
